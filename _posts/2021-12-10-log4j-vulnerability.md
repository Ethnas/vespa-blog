---
layout: post
title: "Log4j vulnerability update (CVE-2021-44228)"
date: '2021-12-10'
tags: []
author: andreer
image: assets/2021-12-10-log4j-vulnerability/github-pr.png
skipimage: true

excerpt: "Brief update on our current knowledge about the Log4j vulnerability (CVE-2021-44228) and Vespa."
---

Since early this morning (2021-12-10T06:19:15Z) we have been
investigating the potential impact on Vespa from the recently
discovered vulnerability in the _log4j_ library
[CVE-2021-44228](https://nvd.nist.gov/vuln/detail/CVE-2021-44228).

Based on our investigations as well as guidance and analysis from our
security team, we currently do not believe that any published Vespa
version is vulnerable to this issue. Vespa does not include _log4j_
versions >= 2.0, nor any use of the vulnerable `JMSAppender` class
present in earlier versions of the library.

Your Vespa application may still be affected if _log4j_ is included in
your application package, either directly or transitively! We believe
most uses of the library can be discovered by running the following
command in your application package Maven project root and inspecting
the output:

```mvn dependency:tree```

We will release a version of Vespa only including _log4j_ >= 2.15 as 
soon as all our dependencies have been updated.

Update: We have completely removed all use of log4j from Vespa since
version 7.520.3, released 2021-12-22.

Update 2: On [Vespa Cloud](https://cloud.vespa.ai/getting-started.html),
we have enforced that user applications do not contain any _log4j_ dependencies
older than version 2.17.1 since Vespa 7.528.38, released 2022-01-17.
